{
  "version": "2.0",
  "meta": {
    "name": "FoodScanner Policy",
    "updated": "2025-09-06",
    "locale": "en"
  },
  "normalization": {
    "lowercase": true,
    "trim": true,
    "unicode": "NFKC"
  },
  "matching": {
    "mode": "exact",
    "fuzzy": false
  },
  "tokens": {
    "major_allergens": [
      "milk",
      "peanut",
      "egg",
      "wheat",
      "soy",
      "fish",
      "shellfish",
      "tree nut",
      "almond",
      "hazelnut",
      "walnut",
      "cashew",
      "pistachio",
      "pecan",
      "brazil nut",
      "macadamia",
      "pine nut",
      "amandel",
      "hazelnoot",
      "walnoot",
      "cashewnoot",
      "pistache",
      "pecannoot",
      "paranoot",
      "macadamia",
      "pijnboompit",
      "noten"
    ],
    "animal_tokens": [
      "chicken",
      "beef",
      "pork",
      "gelatin",
      "lard",
      "fish"
    ],
    "additives": [
      { "id": "E951", "names": ["e951", "aspartame"] }
    ],
    "default_unsafe_tokens": [
      "soap",
      "detergent",
      "bleach",
      "ammonia",
      "antifreeze",
      "kerosene",
      "lamp oil",
      "machine oil",
      "motor oil",
      "sulfuric acid",
      "hydrochloric acid",
      "battery acid",
      "lye",
      "sodium hydroxide",
      "drain cleaner",
      "isopropyl alcohol (non-food-grade)"
    ],
    "hazardous_chemicals": [
      "benzalkonium chloride",
      "chlorine dioxide",
      "formaldehyde",
      "ethylene glycol"
    ],
    "unsafe_allowlist": [
      "citric acid",
      "ascorbic acid",
      "lactic acid",
      "malic acid",
      "tartaric acid",
      "fumaric acid",
      "acetic acid",
      "phosphoric acid",
      "coconut",
      "kokosnoot"
    ],
    "synonyms": {
      "peanut": ["arachide", "arachides", "pinda", "pinda's", "pindas"],
      "milk": ["lait", "melk"],
      "egg": ["œuf", "oeuf", "eieren", "ei"],
      "wheat": ["blé", "tarwe"],
      "soy": ["soja", "soja-lecithine", "lécithine de soja"],
      "fish": ["poisson", "vis"],
      "shellfish": ["crustacés", "schaaldiere", "schaal- en schelpdieren"],
      "tree nut": [
        "noten", "noot",
        "amande", "amandes", "amandel",
        "noisette", "noisettes", "hazelnoot",
        "noix", "walnoot",
        "noix de cajou", "cashewnoot", "cashew",
        "pistache", "pistachenoot",
        "noix de pécan", "pecannoot",
        "noix du Brésil", "paranoot",
        "macadamia",
        "pijnboompit", "pijnboompitten", "pignon", "pignons"
      ],
      "gelatin": ["gélatine", "gelatine"],
      "lard": ["saindoux", "reuzel"],
      "aspartame": ["e951"]
    }
  },
  "patterns": {
    "trace_allergen_patterns": [
      "(?i)may\\s+(also\\s+)?contain\\s+nut[s]?",
      "(?i)contains?\\s+traces\\s+of\\s+nut[s]?",
      "(?i)kan\\s+sporen\\s+bevatten\\s+van\\s+noten"
    ],
    "deny_patterns": [],
    "allow_patterns": []
  },
  "scoring": {
    "weights": {
      "ALLERGEN_MATCH": 5,
      "VEGAN_CONFLICT": 3,
      "ADDITIVE_FLAG": 2,
      "TRACE_ALLERGEN": 3,
      "UNKNOWN": 1,
      "DEFAULT_UNSAFE": 1000,
      "HAZARDOUS_CHEM": 1000
    },
    "thresholds": {
      "caution": 3,
      "avoid": 10
    }
  },
  "messages": {
    "ALLERGEN_MATCH": "Contains a major allergen.",
    "TRACE_ALLERGEN": "May contain traces of allergens (cross-contamination risk).",
    "VEGAN_CONFLICT": "Contains an animal-derived ingredient.",
    "ADDITIVE_FLAG": "Contains a flagged additive: {param}.",
    "DEFAULT_UNSAFE": "Contains an inedible/product-safety substance: {param}.",
    "HAZARDOUS_CHEM": "Contains a hazardous chemical: {param}.",
    "UNKNOWN": "No specific concerns matched; limited information."
  }
}
